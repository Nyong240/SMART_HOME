{"ast":null,"code":"import React,{useEffect,useRef,useState}from'react';import{Form,Button}from'react-bootstrap';import axios from'../axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const SignUp=()=>{const idRef=useRef();const pwRef=useRef();const pw2Ref=useRef();const nameRef=useRef();const[userData,setUserData]=useState({});const[text,setText]=useState('');const checkId=()=>{axios.post('/user/checkId',{id:idRef.current.value}).then(res=>{if(res.data.result==='dup'){setText('※ 사용 불가능한 아이디입니다. 다른 아이디를 입력해주세요.');}else{setText('※ 사용 가능한 아이디입니다.');}});};const handleJoin=e=>{e.preventDefault();console.log(idRef.current.value,pwRef.current.value);setUserData({id:idRef.current.value,pw:pwRef.current.value,name:nameRef.current.value,email:emailRef.current.value});};useEffect(()=>{if(userData.id!==undefined){if(pwRef.current.value===pw2Ref.current.value){axios.post('/user/join',{userData:userData}).then(res=>{console.log('요청 성공!',res.data);if(res.data.msg==='success'){window.alert('환영합니다!');window.location.href='/main';}else{window.alert('다시 한 번 확인해주세요');window.location.href('/join');}});}}},[userData]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleJoin,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicId\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"ID\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter ID\",ref:idRef})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-grid gap mb-3\",children:[/*#__PURE__*/_jsx(Button,{variant:\"light\",onClick:checkId,children:\"\\uC911\\uBCF5\\uCCB4\\uD06C\"}),/*#__PURE__*/_jsx(\"span\",{children:text})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicPassWord1\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"\\uBE44\\uBC00\\uBC88\\uD638\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Enter Password\",ref:pwRef})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicPassWord2\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Confirm Password\",ref:pw2Ref})]}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u203B \\uBE44\\uBC00\\uBC88\\uD638\\uAC00 \\uC77C\\uCE58\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\"}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicName\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter Name\",ref:nameRef})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid gap mb-3\",children:/*#__PURE__*/_jsx(Button,{variant:\"info\",type:\"submit\",children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})})]})]});};export default SignUp;","map":{"version":3,"names":["React","useEffect","useRef","useState","Form","Button","axios","jsx","_jsx","jsxs","_jsxs","SignUp","idRef","pwRef","pw2Ref","nameRef","userData","setUserData","text","setText","checkId","post","id","current","value","then","res","data","result","handleJoin","e","preventDefault","console","log","pw","name","email","emailRef","undefined","msg","window","alert","location","href","children","onSubmit","Group","className","controlId","Label","Control","type","placeholder","ref","variant","onClick"],"sources":["C:/Users/smhrd/Desktop/Project/Node_React/react_project/src/components/SignUp.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\r\nimport { Form, Button } from 'react-bootstrap'\r\nimport axios from '../axios'\r\n\r\nconst SignUp = () => {\r\n\r\n  const idRef = useRef()\r\n  const pwRef = useRef()\r\n  const pw2Ref = useRef()\r\n  const nameRef = useRef()\r\n\r\n  const [userData, setUserData] = useState({});\r\n  const [text, setText] = useState('');\r\n\r\n\r\n  const checkId = ()=>{\r\n    axios.post('/user/checkId', {id : idRef.current.value})\r\n    .then((res)=>{\r\n      if(res.data.result === 'dup'){\r\n        setText('※ 사용 불가능한 아이디입니다. 다른 아이디를 입력해주세요.')\r\n      }else{\r\n        setText('※ 사용 가능한 아이디입니다.')\r\n      }\r\n    })\r\n  }\r\n \r\n\r\n  const handleJoin = (e)=>{\r\n\r\n    e.preventDefault();\r\n    console.log(idRef.current.value, pwRef.current.value);\r\n\r\n    setUserData({\r\n      id : idRef.current.value,\r\n      pw : pwRef.current.value,\r\n      name : nameRef.current.value,\r\n      email : emailRef.current.value\r\n    })\r\n  }\r\n\r\n\r\n useEffect(()=>{\r\n  if(userData.id !== undefined){\r\n    if(pwRef.current.value === pw2Ref.current.value){\r\n      axios.post('/user/join', {userData:userData})\r\n      .then((res)=>{\r\n        console.log('요청 성공!', res.data);\r\n  \r\n        if(res.data.msg === 'success'){\r\n          window.alert('환영합니다!')\r\n          window.location.href = '/main';\r\n        }else{\r\n          window.alert('다시 한 번 확인해주세요')\r\n          window.location.href('/join')\r\n        }\r\n      })\r\n    }\r\n  }\r\n },[userData]);\r\n\r\n  return (\r\n    <div>\r\n      <h1>회원가입</h1>\r\n      <hr/>\r\n      <Form onSubmit={handleJoin}>\r\n\r\n        <Form.Group className=\"mb-3\" controlId=\"formBasicId\">\r\n          <Form.Label>ID</Form.Label>\r\n          <Form.Control\r\n            type=\"text\" placeholder=\"Enter ID\" ref={idRef}/>\r\n        </Form.Group>\r\n\r\n        <div className='d-grid gap mb-3'>\r\n          <Button variant='light' onClick={checkId}>중복체크</Button>\r\n          {/* 아이디 중복여부에 따라 다른 내용 출력 */}\r\n          <span>{text}</span>\r\n        </div>\r\n        \r\n        <Form.Group className=\"mb-3\" controlId=\"formBasicPassWord1\">\r\n          <Form.Label>비밀번호</Form.Label>\r\n          <Form.Control\r\n          type=\"password\" placeholder=\"Enter Password\" ref={pwRef}/>\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"formBasicPassWord2\">\r\n          <Form.Label>비밀번호 확인</Form.Label>\r\n          <Form.Control\r\n          type=\"password\" placeholder=\"Confirm Password\" ref={pw2Ref}/>\r\n        </Form.Group>\r\n\r\n        {/* 비밀번호1, 비밀번호2가 일치하지 않을 때 내용 출력 */}\r\n        <span>※ 비밀번호가 일치하지 않습니다.</span>\r\n\r\n        <Form.Group className=\"mb-3\" controlId=\"formBasicName\">\r\n          <Form.Label>name</Form.Label>\r\n          <Form.Control\r\n          type=\"text\" placeholder=\"Enter Name\" ref={nameRef}/>\r\n        </Form.Group>\r\n        \r\n\r\n        <div className='d-grid gap mb-3'>\r\n          <Button variant='info' type='submit'>회원가입</Button>\r\n        </div>\r\n\r\n      </Form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SignUp"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}